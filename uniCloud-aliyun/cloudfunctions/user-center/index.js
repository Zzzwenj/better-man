'use strict';
const db = uniCloud.database()
const dbCmd = db.command

exports.main = async (event, context) => {
    // ç®€å•çš„é‰´æƒæ‹¦æˆªï¼Œå®é™…é¡¹ç›®ä¸­åº”ä½¿ç”¨ uniID å°è£…çš„æ–¹æ³•
    const { token, action, payload } = event

    if (!token || !token.startsWith('fake_token_for_dev_')) {
        return { code: 401, msg: 'æœªæˆæƒæˆ– Token å·²è¿‡æœŸ' }
    }
    // ç”±äºæ˜¯æµ‹è¯•/ä¸ªäººé¡¹ç›®ï¼Œæˆ‘ä»¬ç”¨ token æ¨¡æ‹Ÿä¸€ä¸ªå”¯ä¸€çš„ç”¨æˆ· IDï¼Œå®é™…åº”ä» token ä¸­è§£æ uid
    const uid = token.split('_').pop()

    const usersCollection = db.collection('uni-id-users')

    switch (action) {
        case 'syncBaseline':
            // åŒæ­¥/æ’å…¥é—®å·åŸºçº¿æ•°æ®
            return await syncBaseline(usersCollection, uid, payload)
        case 'updateNeuroTimer':
            // æ›´æ–°é‡å¡‘èµ·ç‚¹æ—¶é—´ (æ‰“å¡/é‡ç½®)
            return await updateNeuroTimer(usersCollection, uid, payload)
        case 'getUserProfile':
            // è·å–ç”¨æˆ·æœ€æ–°çŠ¶æ€
            return await getUserProfile(usersCollection, uid)
        case 'updateProfile':
            // æ›´æ–°ä¸ªäººæ¡£æ¡ˆä¸ç§°å·
            return await updateProfile(usersCollection, uid, payload)
        case 'getLibraryList':
            // è·å–çŸ¥è¯†åº“/è§†é¢‘åº“åˆ—è¡¨
            return await getLibraryList(db, payload)
        case 'getArticleDetail':
            // è·å–æ–‡ç« è¯¦ç»†å†…å®¹
            return await getArticleDetail(db, payload)
        case 'syncAssets':
            // åŒæ­¥ç¥ç»å¸å’Œæ‹¥æœ‰çš„è£…æ‰®èµ„äº§
            return await syncAssets(usersCollection, uid, payload)
        case 'getRankings':
            // è·å–å¤©æ¢¯æ¦œå• (é€šè¿‡ç¦»çº¿è®¡ç®—é˜²æŠ–ç‰ˆ)
            return await getRankings(db, uid)
        case 'initLibraryData':
            // åˆå§‹åŒ–å†…ç½®çš„ç²¾é€‰æ­£å‘æ•°æ®ï¼ˆä»…ç”¨ä½œç³»ç»Ÿç§å­æ•°æ®ï¼Œå¼€å‘è€…è°ƒç”¨ï¼‰
            return await initLibraryData(db)
        default:
            return { code: 400, msg: 'Unknown action' }
    }
};

async function getRankings(db, uid) {
    const cacheCollection = db.collection('system_cache')

    // æˆ‘ä»¬ä»ç³»ç»Ÿç¼“å­˜è¡¨é‡Œæ‹¿è·‘æ‰¹å¥½çš„å”¯ä¸€è®°å½•ï¼Œé¿å…å®æ—¶ join è®¡ç®—å‡ ä¸‡ç”¨æˆ·
    const res = await cacheCollection.where({ key: 'global_resonance_rankings' }).get()

    if (res.data.length > 0) {
        return { code: 0, data: res.data[0].value }
    } else {
        // å¦‚æœäº‘ç«¯è¿˜æ²¡æœ‰è·‘æ‰¹è®°å½•ï¼Œè¿”å›ä¸€ä¸ªå‰ç«¯å¯ä»¥ç›´æ¥æ¸²æŸ“çš„å®‰å…¨å…¨é‡å‡æ•°æ®ä½œä¸ºå†·å¯åŠ¨
        return {
            code: 0, data: {
                localRankings: [
                    { id: uid, nickname: 'æ¢ç´¢è€…_' + uid.substring(uid.length - 4), avatarChar: 'æ¢', title: 'Phase I: å¯ç¨‹', titleColor: '#a1a1aa', days: 1, isMe: true }
                ],
                roomRankings: [
                    { roomId: '01', online: 1, totalHours: '0', isMyRoom: true }
                ]
            }
        }
    }
}

async function syncAssets(collection, uid, payload) {
    const { neuroCoins, ownedItems, equipped } = payload

    // é‡‡ç”¨åˆå¹¶æ›´æ–°
    const updateData = {}
    if (neuroCoins !== undefined) updateData.neuro_coins = neuroCoins
    if (ownedItems !== undefined) updateData.owned_items = ownedItems
    if (equipped !== undefined) updateData.equipped = equipped

    if (Object.keys(updateData).length > 0) {
        updateData.updated_at = Date.now()
        await collection.doc(uid).update(updateData)
    }

    return { code: 0, msg: 'èµ„äº§é“¾å·²åŒæ­¥' }
}

async function syncBaseline(collection, uid, payload) {
    const { neuro_baseline } = payload

    // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™ä¼ªé€ åˆ›å»ºä¸€ä¸ªï¼ˆé…åˆæˆ‘ä»¬çš„å…å¯†ç™»å½•ä½“éªŒï¼‰
    const userRes = await collection.where({ _id: uid }).get()

    if (userRes.data.length === 0) {
        await collection.add({
            _id: uid,
            username: 'Explorer_' + uid.substring(uid.length - 4),
            neuro_baseline,
            register_date: Date.now()
        })
    } else {
        await collection.doc(uid).update({
            neuro_baseline
        })
    }

    return { code: 0, msg: 'åŸºçº¿æ•°æ®åŒæ­¥æˆåŠŸ' }
}

async function updateNeuroTimer(collection, uid, payload) {
    const { start_timestamp } = payload

    const userRes = await collection.where({ _id: uid }).get()
    if (userRes.data.length > 0) {
        await collection.doc(uid).update({
            neuro_start_date: start_timestamp
        })

        // æ­¤å¤„å¯æ‹“å±•è®°å½• logs
        const logsCollection = db.collection('intervention_logs')
        await logsCollection.add({
            user_id: uid,
            action_type: 'timer_reset',
            created_at: Date.now()
        })
    }

    return { code: 0, msg: 'æ—¶é—´é”šç‚¹å·²æ›´æ–°' }
}

async function getUserProfile(collection, uid) {
    const userRes = await collection.where({ _id: uid }).get()

    if (userRes.data.length > 0) {
        return {
            code: 0,
            data: userRes.data[0]
        }
    }
    return { code: 404, msg: 'ç”¨æˆ·ä¿¡æ¯æœªæ‰¾åˆ°' }
}

// --- è¿ç¦è¯ã€æ•æ„Ÿè¯æ‹¦æˆªå­—å…¸ (å¯æ ¹æ®ä¸šåŠ¡æ‰©å……) ---
const BANNED_WORDS = [
    // æ¶‰æ”¿/è¿ç¦ç±»
    /æ”¿åºœ|å›½å®¶é¢†å¯¼äºº|ä¸­å…±|å…±äº§å…š|åå…š|æš´ä¹±|æ–°ç–†ç‹¬|è—ç‹¬|å°ç‹¬|æ³•è½®åŠŸ|é‚ªæ•™/,
    // æ·«ç§½/ä½ä¿—ç±»
    /AV|è‰²æƒ…|å«–å¨¼|æ‰¾å°å§|é¸¡|é¸­|è¿·è¯|æ˜¥è¯|ä¹±ä¼¦|å¼ºå¥¸|æ“|å«©æ¨¡|ä¸è¶³|å¤–å›´|çº¦ç‚®|è£¸èŠ|é»„ç½‘|è‰²ç½‘|é»„ç‰‡/,
    // é»‘ç°äº§/æ¶‰æ¯’æ¶‰èµŒç±»
    /èµŒåœº|å…­åˆå½©|åšå½©|å†°æ¯’|æµ·æ´›å› |å¤§éº»|éº»å¤|ä¹°å–æªæ”¯|ä»£å¼€ç¥¨|æ´—é’±|å¥—ç°|åˆ·å•|å–è¡€|çªƒå¬å™¨/,
    // è°©éª‚ä¾®è¾±ç±»
    /å‚»é€¼|ä»–å¦ˆ|æ—¥ä½ |è‰æ³¥é©¬|è„‘æ®‹|ç‹—å¨˜|æ­»å…¨å®¶|åºŸç‰©/
]

function containsBannedWords(text) {
    if (!text) return false;
    for (let i = 0; i < BANNED_WORDS.length; i++) {
        if (BANNED_WORDS[i].test(text)) {
            return true;
        }
    }
    return false;
}

async function updateProfile(collection, uid, payload) {
    const { nickname, avatar, signature } = payload
    const now = Date.now()

    // 1. å…¨å±€è¿ç¦è¯é˜²å¾¡
    if (containsBannedWords(nickname) || containsBannedWords(signature)) {
        return { code: 403, msg: '[å®‰å…¨æŒ‡ä»¤æ‹¦æˆª] æ£€æµ‹åˆ°æ•æ„Ÿæˆ–è¿ç¦å­—ç¬¦ï¼Œæ“ä½œç»ˆæ­¢ã€‚' }
    }

    const userRes = await collection.where({ _id: uid }).get()

    if (userRes.data.length > 0) {
        const user = userRes.data[0]
        const lastUpdate = user.nickname_updated_at || user.register_date || 0
        const daysSinceLastUpdate = (now - lastUpdate) / (1000 * 60 * 60 * 24)

        let updateData = {
            avatar,
            signature,
            updated_at: now
        }

        // 2. æ˜µç§° 30 å¤©é˜²ç¯¡æ”¹è§„åˆ™ (å¦‚æœæ˜¯ä¿®æ”¹æ˜µç§°çš„æƒ…å†µ)
        if (nickname && nickname !== user.nickname) {
            // æ ¡éªŒæ˜¯å¦æ»¡è¶³ 30 å¤© (ç¬¬ä¸€æ¬¡ä¿®æ”¹é»˜è®¤å…è®¸ï¼Œæ‰€ä»¥è¦æ±‚æœ‰è€åå­—æ—¶æ‰å¡)
            if (user.nickname && Object.keys(user).includes('nickname_updated_at') && daysSinceLastUpdate < 30) {
                const daysLeft = Math.ceil(30 - daysSinceLastUpdate)
                return { code: 403, msg: `[å†·å´æœŸé”å®š] åè®®è¦æ±‚æ¯ 30 å¤©ä»…é™ç¯¡æ”¹ä»£å·ä¸€æ¬¡ã€‚å‰©ä½™ç­‰å¾…ï¼š${daysLeft} å¤©` }
            }
            updateData.nickname = nickname
            updateData.nickname_updated_at = now
        }

        await collection.doc(uid).update(updateData)
    } else {
        await collection.add({
            _id: uid,
            nickname,
            avatar,
            signature,
            register_date: now,
            updated_at: now,
            nickname_updated_at: now
        })
    }

    return { code: 0, msg: 'ç¥ç»è¿æ¥æ¡£æ¡ˆå·²åŠ å¯†å¹¶åŒæ­¥è‡³æ€»æ§åˆ¶å°' }
}

async function getLibraryList(db, payload) {
    const { type, page = 1, pageSize = 15 } = payload // 'video' or 'article' or 'habits'
    const col = db.collection('better-articles')

    try {
        // æŒ‰å‘å¸ƒæ—¶é—´å€’åºï¼Œä»…æ‹‰å–å·²ä¸Šæ¶çš„æ•°æ®
        let query = { status: 1 }
        if (type) {
            query.type = type
        }

        const skipCount = (page - 1) * pageSize

        const res = await col.where(query).orderBy('publish_date', 'desc').skip(skipCount).limit(pageSize).field({
            textContent: false // åˆ—è¡¨ä¸è¿”å›æ­£æ–‡ä»¥èŠ‚çœå¸¦å®½
        }).get()

        return {
            code: 0,
            data: res.data,
            msg: 'è·å–å›¾è°±æˆåŠŸ'
        }
    } catch (err) {
        if (err.message && err.message.includes('resource exhausted')) {
            return {
                code: 503,
                msg: 'é˜¿é‡Œäº‘å…è´¹ç‰ˆæœåŠ¡è§¦å‘æµæ§é˜²åˆ·ä¿æŠ¤ï¼Œæ•°æ®åº“æ­£åœ¨å†·å´ï¼Œè¯·æ‚¨è€å¿ƒç­‰å¾… 1-2 åˆ†é’Ÿåå†è¯•~'
            }
        }
        return {
            code: 500,
            msg: 'ç³»ç»Ÿæå®¢æ•°æ®åº“é”™è¯¯: ' + err.message
        }
    }
}

async function getArticleDetail(db, payload) {
    const { id } = payload
    const col = db.collection('better-articles')
    const res = await col.doc(id).get()

    if (res.data.length > 0) {
        return { code: 0, data: res.data[0] }
    }
    return { code: 404, msg: 'çªè§¦è¿æ¥æ–­å¼€ï¼Œæœªæ‰¾åˆ°è¯¥æ–‡æ¡£' }
}

async function initLibraryData(db) {
    const col = db.collection('better-articles')
    const now = Date.now()
    const seedData = []

    // ç”Ÿæˆ 25 æ¡é«˜è´¨é‡è§†é¢‘èµ„æº
    const videoTitles = [
        "æ–¯å¦ç¦å…¬å¼€è¯¾ï¼šä½ çš„å¤šå·´èƒºåŸºçº¿ä¸ç—›è‹¦é‡ç½®", "ç¥ç»å¯å¡‘æ€§ï¼šå¤§è„‘æ˜¯å¦‚ä½•è¢«ç‰©ç†é‡è¿çš„",
        "æˆç˜¾çš„ç¥ç»å­¦æœºåˆ¶ä¸æˆ’æ–­çš„ç»å¯¹ç”Ÿç†å­¦è§£è¯", "æ·±åº¦ç¡çœ ä¸é¢å¶çš®å±‚çš„åºŸç‰©æ¸…æ´—æœºåˆ¶",
        "å¦‚ä½•é€šè¿‡è§†è§‰æ”¶æŸè®­ç»ƒå¿«é€Ÿé”æ­»å¿ƒæµçŠ¶æ€", "æ„å¿—åŠ›è€—ç«­çš„ç”Ÿç‰©åŒ–å­¦åŸºç¡€æ¢ç©¶",
        "å‹åŠ›ä¸æ˜¯æ•Œäººï¼šå¿ƒç†é¢„æœŸå¦‚ä½•æ”¹å˜çš®è´¨é†‡æ¯’æ€§", "åœ¨æ‹–å»¶ç—‡æ‚£è€…çš„å¤§è„‘é‡Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ",
        "ç¡çœ æ˜¯ä½ çš„è¶…èƒ½åŠ›ï¼šä¿®å‰ªæ— ç”¨çªè§¦", "æ‰“ç ´åä¹ æƒ¯çš„ç®€å•ç¥ç»å›è·¯æœºåˆ¶",
        "å½“ä½ çœ‹é«˜åˆºæ¿€å†…å®¹æ—¶å¤§è„‘çš„ä¸å¯é€†è¾¹ç¼˜æŸä¼¤", "è¢«å»‰ä»·å¤šå·´èƒºå½»åº•åŠ«æŒçš„è¾¹ç¼˜ç³»ç»Ÿ",
        "è¡Œä¸ºé€šè·¯æ˜¯å¦‚ä½•ä»åœŸè·¯å˜æˆé«˜é€Ÿå…¬è·¯çš„", "å¤§è„‘å¥–èµå›è·¯ (Reward Circuit) é«˜æ¸… 3D åŠ¨ç”»",
        "å†…å•¡è‚½çš„æ­£ç¡®ç”Ÿæˆè·¯å¾„ä¸å»¶è¿Ÿæ»¡è¶³", "æ–¯å¦ç¦ NSDRï¼š10åˆ†é’Ÿéç¡çœ æ·±åº¦ä¼‘æ¯åè®®",
        "æé€Ÿå¼ºè¡Œé™å¿ƒç‡ï¼šæµ·è±¹çªå‡»é˜Ÿç®±å¼å‘¼å¸æ³•", "ç”¨é«˜çº§å¤åˆ©é€’è´¨å»å¯¹æŠ—ä½çº§é˜ˆå€¼æ¬²æœ›",
        "è§‰é†’æ—¶ä»£ï¼šåœ¨ç®—æ³•ç‰¢ç¬¼ä¸­å¤ºå›ä½ çš„æ³¨æ„åŠ›", "åŸºäºåŠ¨ä½œç”µä½çš„çªè§¦é‡å¡‘ä¸åˆ»æ„ç»ƒä¹ ",
        "æ‘†è„±æ…¢æ€§ç–²åŠ³ï¼šæ—©æ™¨é˜³å…‰ç…§å°„ä¸èŠ‚å¾‹è·å°”è’™å¯†ç ", "ä¿¡æ¯è¿‡è½½å¼•å‘å¤§è„‘è„‘é›¾ä¸æ‰§è¡ŒåŠŸèƒ½ç˜«ç—ª",
        "ç”¨ç‰©ç†éš”å±‚æ–¹æ³•é‡ç½®è¢«æ‰“ä¹±çš„æ˜¼å¤œèŠ‚å¾‹", "å¼ºåˆ¶ç¦æ¬²ä¸å—ä½“ D2 é‡æ–°ä¸Šè°ƒçš„ç¡¬æ ¸å¤åŸå‘¨æœŸ",
        "ç§‘æŠ€å·¨å¤´è¡Œä¸ºä¸Šç˜¾çš„è®¾è®¡é€»è¾‘åŠåå‘ç ´å±€", "æ‰‹æœºå±å¹•è“å…‰å¦‚ä½•ç²¾å‡†æ‘§æ¯ä½ çš„æ¾æœä½“ä¸è¤ªé»‘ç´ åˆ†æ³Œ"
    ];
    const videoAuths = ['Huberman Lab', 'Neuroscience 3D', 'TEDç»å…¸è§£æ', 'Kurzgesagt', 'åº•å±‚è®¤çŸ¥ç ”ä¹ ç¤¾', 'å‰é¢å¶è‡ªæ•‘æŒ‡å—'];

    // é‡‡ç”¨ç¨³å®šå¯æ’­æ”¾çš„é«˜æ¸…å…¬ç½‘è§†é¢‘æºä½œä¸ºæ›¿èº«ï¼Œç¡®ä¿ç‚¹å‡»èƒ½æ’­ä¸”ä¸å®Œå…¨ä¸€æ ·
    const realVideoUrls = [
        'http://vjs.zencdn.net/v/oceans.mp4',
        'https://media.w3.org/2010/05/sintel/trailer.mp4',
        'http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4',
        'https://www.w3schools.com/html/mov_bbb.mp4',
        'https://www.w3schools.com/html/horse.mp4'
    ];

    const videoCovers = [
        'https://images.unsplash.com/photo-1559757175-5700dde675bc?w=500&auto=format', // Brain
        'https://images.unsplash.com/photo-1507413245164-6160d8298b31?w=500&auto=format', // Lab
        'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=500&auto=format', // Cyber 1
        'https://images.unsplash.com/photo-1518770660439-4636190af475?w=500&auto=format', // Chip
        'https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=500&auto=format', // Robot
        'https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=500&auto=format'  // Dark 1
    ];

    videoTitles.forEach((t, i) => {
        seedData.push({
            type: 'video', icon: 'ğŸ¥', title: t,
            desc: `æ—¶é•¿ ${(Math.random() * 10 + 5).toFixed(0)} åˆ†é’Ÿ Â· ç¡¬æ ¸ç¥ç»ç§‘å­¦åŸç†è§£æã€‚`,
            cover: videoCovers[i % videoCovers.length],
            author: videoAuths[i % videoAuths.length], readTime: 'å®å½•è§†é¢‘æµ',
            contentUrl: realVideoUrls[i % realVideoUrls.length],
            status: 1, publish_date: now - i * 10000
        })
    })

    // ä¸º 20 ç¯‡é•¿æ–‡é¢å¤–é…å¤‡çš„æˆªç„¶ä¸åŒã€å…·å¤‡å¯æ“ä½œæ€§çš„ã€å®éªŒä½è¯æŒ‡å—ã€‘
    const guides = [
        "åœ¨è¿™ä¸ªç¬é—´ï¼Œå»ä½“ä¼šå¤šå·´èƒºä¸‹è½æ—¶çš„è½»å¾®ç„¦èºï¼Œä¸è¦é€ƒé¿ï¼Œä»…ä»…å»è§‚å¯Ÿè¿™è‚¡å¾®å¼±çš„ç”Ÿç†æ½®æ±ã€‚",
        "å½“ä½ è¿«ä¸åŠå¾…æƒ³æ»‘å‘ä¸‹ä¸€ä¸ªå¨±ä¹æ¼©æ¶¡æ—¶ï¼Œè¯•ç€åœ¨å±å¹•ä¸Šæ–¹æ‚¬åœæ‰‹æŒ‡ 10 ç§’é’Ÿï¼Œè§‚å¯Ÿå¤§è„‘æ€¥æ‰¯ä¹æ±‚çš„å§¿æ€ã€‚",
        "æ£€æŸ¥ä½ å‘¨å›´çš„ç¯å¢ƒï¼šæ˜¯å¦å……æ–¥ç€å„ç§è§†è§‰è¯±é¥µï¼ŸæŠŠæƒ¹çœ¼çš„å›¾æ ‡æ¢æˆé»‘ç™½ï¼Œå°±æ˜¯å¯¹æˆç˜¾å¼•æ“çš„ä¸€æ¬¡ç‰©ç†æ–­ç”µã€‚",
        "ä¸‹ä¸€æ¬¡å½“ä½ æ„Ÿåˆ°æƒ…ç»ªå¤±æ§å‰ï¼Œç›‘æµ‹å¿ƒç‡å˜åŒ–ã€‚åœ¨è¾¹ç¼˜ç³»ç»Ÿå®Œå…¨æ¥ç®¡å‰ï¼Œè¿›è¡Œ 4 æ¬¡æ·±é•¿å‘¼å¸å³å¯é‡æ–°å”¤é†’å‰é¢å¶çš®å±‚ã€‚",
        "æ‰“å¼€å±å¹•æ—¶é—´ç»Ÿè®¡ï¼Œæ‰¾å‡ºå ç”¨æ—¶é—´å‰ä¸‰çš„åº”ç”¨ã€‚å°è¯•åœ¨è¿™ä¸ªå‘¨æœ«çš„å…¶ä¸­åŠå¤©å®Œå…¨åˆ‡æ–­è¿™ä¸‰ä¸ªåº”ç”¨çš„æ•°æ®æµã€‚",
        "å½“æˆ’æ–­ååº”å¦‚æ½®æ°´èˆ¬æ¶Œæ¥æ—¶ï¼Œè¯•ç€å»å¤§é©¬è·¯ä¸Šå¿«èµ°æµæ±—ã€‚åªæœ‰å†…å•¡è‚½å¯ä»¥å¹³æ»‘å®‰æŠšå› ä¸ºå¤šå·´èƒºçŸ­ç¼ºè€Œå“€åšçš„ç»†èƒã€‚",
        "å¦‚æœæŸä¸ªä¹ æƒ¯æéš¾æ”¹æ­£ï¼Œè¯•ç€æŠŠå®ƒè§¦å‘çš„åœºæ™¯æ‰“ç ´ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æ€»åœ¨ç¡å‰ç©æ‰‹æœºï¼Œå°±æŠŠå……ç”µå™¨ç§»åˆ°å§å®¤é—¨å¤–ã€‚",
        "å½“ä½ å‘ç°è‡ªå·±æ­£è¦å¼€å§‹æ— æ„è¯†æµè§ˆæ—¶ï¼Œç«‹åˆ»å¤§å–Šä¸€å£°â€œåœâ€ï¼è¿™ç§ç‰©ç†å‘å£°èƒ½ç¬é—´ä¸­æ–­é»˜è®¤ç¥ç»ç½‘ç»œçš„ä¸‹æ„è¯†å¯¼èˆªã€‚",
        "ç»™è‡ªå·±è®¾å®šä¸€ä¸ªå¿…é¡»å®Œæˆçš„é«˜éš¾åº¦å¾®å°ä»»åŠ¡ï¼Œæ¯”å¦‚ç«‹åˆ»åšä¸€ä¸ªæ³¢æ¯”è·³ã€‚ç”¨é«˜çº§çš„ã€è‰°éš¾çš„æ‰§è¡Œä»»åŠ¡ç«‹åˆ»æŠ¢å¤ºå¸¦å®½ã€‚",
        "å†™ä¸‹é‚£ä¸ªæ¯æ¬¡éƒ½ä¼šè¯±å‘ä½ å •è½çš„å¯¼ç«ç´¢æƒ…å¢ƒï¼Œç„¶åç”¨ç¬”åœ¨çº¸ä¸Šæ ‡ä¸€ä¸ªå·¨å¤§çš„å·®å·ï¼Œåœ¨ç‰©ç†æ½œæ„è¯†å±‚é¢å®£å‘Šå®ƒå¤±å»æ§åˆ¶åŠ›ã€‚",
        "å¯¹é•œå­é‡Œçš„è‡ªå·±è¯´ï¼šå³ä½¿åˆšæ‰æç ¸äº†ï¼Œæˆ‘ä¹Ÿä¾ç„¶å…·æœ‰æŒæ§ä¸‹ä¸€æ¬¡é€‰æ‹©çš„æƒåˆ©ã€‚å…³é—­å†…è€—ï¼ŒæŠŠæ³¨æ„åŠ›è½¬å‘å½“ä¸‹çš„å‘¼å¸ã€‚",
        "è¯•ç€åœ¨é¢å¯¹è¯±æƒ‘ç‰©æ—¶å€’æ•° 5-4-3-2-1ã€‚åœ¨æ•°åˆ° 1 çš„ç¬é—´ç‰©ç†ç¦»å¼€é‚£ä¸ªæˆ¿é—´ï¼Œä¸ç»™ç†æ€§è„‘ç¼–ç»‡åæ‚”å€Ÿå£çš„æœºä¼šã€‚",
        "å»æ‰¾ä¸€ä¸ªç°å®ä¸­çš„äººäº§ç”Ÿå…·ä½“çš„å¯¹è¯ã€‚é¢å¯¹é¢è¯­è¨€æ²Ÿé€šæ‰€é‡Šæ”¾çš„å‚¬äº§ç´ ï¼Œå¯ä»¥æœ‰æ•ˆå®‰æŠšå—æŸçš„å¥–èµç³»ç»Ÿã€‚",
        "ä½“éªŒä¸€æ¬¡æç«¯çš„æ— èŠã€‚ååœ¨æ¤…å­ä¸Šä»€ä¹ˆéƒ½ä¸åšï¼Œå¿å—é‚£ç§æ€¥åˆ‡æƒ³è¦æ‰¾ç‚¹ä¹å­çš„ç—’æ„Ÿï¼ŒæŠŠå®ƒå½“ä½œæ˜¯ä¸€åœºæŠ—ä½“å®éªŒã€‚",
        "åœ¨ä½ æœ€æƒ³æ”¾å¼ƒçš„æ—¶å€™ï¼Œåªåšæœ€å¾®å°çš„ä¸€æ­¥ã€‚åªè¦çªç ´é‚£æœ€åˆçš„å†°å†·ç‰©ç†é˜»åŠ›åŒºåŸŸï¼Œæ²‰ç¡çš„ç½‘ç»œå°±ä¼šè¢«å°å¹…åº¦å”¤é†’ã€‚",
        "æƒ³è±¡ä½ çš„æŸäº›çªè§¦æ­£åœ¨å› ä¸ºä½ å…‹åˆ¶ä¸å»åšæŸäº‹è€ŒåŠ é€Ÿæ¯èã€‚è¿™æ˜¯ä¸€åœºçœ‹ä¸è§çš„ç»†èƒè†œäº‰å¤ºæˆ˜ï¼Œåªè¦ä¸æ¿€æ´»ï¼Œå®ƒå°±ä¼šæ¶ˆäº¡ã€‚",
        "å°†ä½ çš„æŸä¸ªæ¯ç‡¥å·¥ä½œéšæœºè®¾å®šå®Œæˆå¥–åŠ±ï¼ˆä¾‹å¦‚æŠ›ç¡¬å¸å†³å®šï¼‰ã€‚å¼•å…¥ä¸ç¡®å®šæ€§ï¼Œèƒ½è®©è€—ç«­çš„å—ä½“é‡æ–°ç‡ƒèµ·ç«èŠ±ã€‚",
        "æ™šä¸Š 9 ç‚¹å‡†æ—¶è®©ä½ çš„ç‰©ç†ç©ºé—´è¿›å…¥æš—è‰²è°ƒã€‚å‰¥å¤ºé«˜è‰²æ¸©è“å…‰ï¼Œæ˜¯åœ¨ä¿æŠ¤ä½ ä»…å‰©çš„ä¸€ç‚¹èƒ½é‡å‚¨å¤‡ä¸åœ¨æ·±å¤œå´©æºƒã€‚",
        "æŠŠä¸€åˆ‡èƒ½å¤Ÿè§¦æ‰‹å¯åŠçš„å³æ—¶åé¦ˆç»Ÿç»Ÿå»¶å 10 åˆ†é’Ÿã€‚åœ¨è¿™ 10 åˆ†é’Ÿé‡Œå»æ¥ä¸€æ¯æ°´ï¼Œè®©å¤„äºç‹‚é£™çŠ¶æ€çš„å¤§è„‘å®Œæˆç¡¬ç€é™†ç¼“å†²ã€‚",
        "é—­ä¸Šçœ¼ç›ï¼ŒèŠ± 3 åˆ†é’Ÿæ—¶é—´æ‰«æä½ èº«ä½“å„éƒ¨åˆ†çš„æ„Ÿå—ã€‚æ­£å¿µä¸ä»…è®©äººå¹³é™ï¼Œæœ¬è´¨ä¸Šå®ƒæ˜¯ç‰©ç†é‡å¡‘ç¥ç»éŸ§å¸¦ã€‚"
    ];

    // ç”Ÿæˆ 20 æ¡æ·±åº¦å¥½æ–‡æ‹†è§£èµ„æº (å½»åº•ç‹¬ç«‹æ–‡æœ¬)
    const articlesData = [
        { t: "ã€Šå¤šå·´èƒºå›½å®¶çš„å›šå¾’ã€‹ç²¾åç»ˆææ‹†è§£", c: "å®‰å¨œÂ·ä¼¦å¸ƒå…‹åšå£«åœ¨ã€Šå¤šå·´èƒºå›½åº¦ã€‹ä¸­æ­ç¤ºäº†ä¸€ä¸ªæ®‹é…·çœŸç›¸ï¼šäººç±»çš„å¤§è„‘æœ¬ä¸æ˜¯ä¸ºäº†åº”å¯¹å¦‚æ­¤ä¸°é¥¶çš„ä¸–ç•Œè€Œè¿›åŒ–çš„ã€‚å½“æˆ‘ä»¬æš´éœ²åœ¨é«˜åº¦æˆç˜¾çš„æ•°å­—æ¯’å“ä¸‹æ—¶ï¼Œå¤§è„‘ä¼šé€šè¿‡å‡å°‘å—ä½“æ¥ç»´æŒå¹³è¡¡ï¼Œå¯¼è‡´å¹³æ—¶çš„ã€å¿«æ„Ÿç¼ºå¤±ã€ã€‚å”¯ä¸€çš„è§£è¯æ˜¯ä¸»åŠ¨æ‹¥æŠ±ä¸€å®šçš„ç—›è‹¦ä¸åŒ®ä¹ï¼Œé‡ç½®å¤šå·´èƒºåŸºçº¿ã€‚" },
        { t: "åœ¨å……æ–¥è¯±æƒ‘çš„ä¸–ç•Œä¸ºä»€ä¹ˆç°ä»£äººè¶Šæ¥è¶Šç—›è‹¦", c: "åŸå§‹å¤§è„‘æ‰§è¡Œç€å¯»æ‰¾é«˜åˆºæ¿€äº‹ç‰©çš„å¤è€æŒ‡ä»¤ã€‚ç°ä»£å•†ä¸šæ°å·§åˆ¶é€ äº†æ— é™é‡çš„'è¶…å¸¸åˆºæ¿€'ï¼ˆSupernormal Stimuliï¼‰ã€‚å½“ä½ ä¸åœåˆ·çŸ­è§†é¢‘æ—¶ï¼Œå¤§è„‘è¯¯ä»¥ä¸ºä½ åœ¨ç”Ÿå­˜ä¸Šå–å¾—å·¨å¤§æˆåŠŸï¼Œäºæ˜¯åˆ‡æ–­å¯¹æ™®é€šäº‹ç‰©çš„åŠ¨åŠ›ã€‚è¿™å°±å¯¼è‡´ç°å®ç”Ÿæ´»æ˜¾å¾—ç´¢ç„¶æ— å‘³ï¼Œé™·å…¥æ·±æ·±çš„ç©ºè™šã€‚" },
        { t: "ã€Šæ¬²ç½¢ä¸èƒ½ã€‹æ ¸å¿ƒä¹¦è¯„ï¼šè­¦æƒ•äº§å“æˆç˜¾è®¾è®¡", c: "æ²¡æœ‰åœæ­¢æç¤ºçš„æ— é™æ»šåŠ¨ã€æ¸¸æˆåŒ–çš„è¿›åº¦æ¡ã€è–›å®šè°”çš„çº¢ç‚¹â€”â€”ç§‘æŠ€å·¨å¤´çš„æˆç˜¾ç”Ÿæ„å¹¶éå·§åˆã€‚è¯†åˆ«è¿™äº›å¿ƒç†é™·é˜±æ˜¯é˜²å®ˆç¬¬ä¸€æ­¥ã€‚ä½ éœ€è¦ä¸ºè‡ªå·±è®¾å®šç‰©ç†å±éšœï¼Œä¾‹å¦‚å±å¹•æ—¶é—´é”æˆ–å°†è®¾å¤‡æ”¾ç½®åœ¨è§†çº¿ä¹‹å¤–ï¼Œåšå†³å¤ºå›ä¸‹æ„è¯†çš„è¡Œä¸ºæ§åˆ¶æƒã€‚" },
        { t: "ã€Šè‡ªæ§åŠ›ã€‹ä¸‡å­—ç¬”è®°ï¼šæ–¯å¦ç¦è¡Œä¸ºå¿ƒç†å­¦", c: "è‡ªæ§åŠ›åƒè‚Œè‚‰ä¸€æ ·ï¼Œä½¿ç”¨è¿‡åº¦ä¼šç–²åŠ³ï¼Œä½†ä¹Ÿèƒ½å¤Ÿé€šè¿‡é”»ç‚¼å˜å¼ºã€‚å…³é”®ä¸åœ¨äºè´£å¤‡è‡ªå·±ï¼Œè€Œåœ¨äºç†è§£'æˆ‘æƒ³è¦'çš„ç¥ç»å­¦åŸºç¡€ã€‚é€šè¿‡ç›‘æµ‹æ¯æ¬¡å¤±æ§å‰çš„æƒ…ç»ªçŠ¶æ€ï¼Œå¢åŠ å¿ƒç‡å˜å¼‚åº¦ï¼ˆå¦‚æ·±å‘¼å¸æ³•ï¼‰ï¼Œæˆ‘ä»¬èƒ½æœ‰æ•ˆå¢å¼ºå‰é¢å¶çš®å±‚å¯¹å†²åŠ¨è¾¹ç¼˜ç³»ç»Ÿçš„ç‰©ç†å‹åˆ¶ã€‚" },
        { t: "æ•°å­—æç®€ä¸»ä¹‰æ“ä½œæŒ‡å—ä¸ 10 æ¡æ–­èˆç¦»çº¢çº¿", c: "å¡å°”Â·çº½æ³¢ç‰¹ä¸»å¼ ç§‘æŠ€åº”æœåŠ¡äºæ ¸å¿ƒä»·å€¼è§‚ã€‚å®æ“ç¬¬ä¸€æ­¥ï¼šå¸è½½ä¸€åˆ‡å¸¦æœ‰æ— é™åŠ è½½åŠŸèƒ½çš„åª’ä½“APPã€‚ç¬¬äºŒæ­¥ï¼šè§„å®šæ¯å¤©åªèƒ½åœ¨å›ºå®šçš„æ—¶æ®µå†…æ‰¹é‡å¤„ç†ä¿¡æ¯ã€‚ç¬¬ä¸‰æ­¥ï¼šå°†å¤šå‡ºæ¥çš„å¤§æ®µå®Œæ•´æ—¶é—´æŠ•å…¥åˆ°é«˜æ·±åº¦çš„ç°å®æ´»åŠ¨ä¸­ã€‚åªæœ‰ä¸»åŠ¨ç•™ç™½ï¼Œæ€æƒ³æ‰èƒ½é‡æ–°æ±‡èšã€‚" },
        { t: "å¤šå·´èƒºæ’æ¯’ 24 å°æ—¶ç»å¯¹åˆºæ¿€å‰¥å¤ºå®æ“è®¡åˆ’", c: "è¿™æ˜¯ä¸€é¡¹é‡å¯å¤§è„‘çš„é«˜é˜¶æ“ä½œï¼šåœ¨24å°æ—¶å†…ï¼Œå®Œå…¨æ–­ç»å±å¹•ã€é«˜ç³–ä¸éŸ³ä¹ã€‚èµ·åˆçš„å‡ ä¸ªå°æ—¶ä½ ä¼šæ„Ÿåˆ°æå…¶çƒ¦èºå’Œæ— èŠï¼ˆæ’¤è¯ååº”ï¼‰ï¼Œä½†è¿™æ­£æ˜¯å¤§è„‘åœ¨ç–¯ç‹‚ä¿®å¤å—æŸçš„å¤šå·´èƒºå—ä½“ã€‚ç†¬è¿‡è¿™ä¸ªé˜¶æ®µï¼Œä½ ä¼šå‘ç°åŸæœ¬æ¯ç‡¥çš„å·¥ä½œï¼Œä¹Ÿé‡æ–°å…·è±¡å‡ºäº†å¸å¼•åŠ›ã€‚" },
        { t: "åŸå­ä¹ æƒ¯çš„åå‘å®šå¾‹ï¼šæ¶ˆç­å¯åŠ¨åŠ›çº¿ç´¢", c: "æ”¹æ‰åä¹ æƒ¯æœ€æœ‰æ•ˆçš„æ–¹æ³•ä¸æ˜¯é æ­»æ‰›ï¼Œè€Œæ˜¯'è®©å®ƒå˜å¾—ä¸å¯è§ã€å˜å¾—å›°éš¾'ã€‚å¦‚æœä½ æƒ³å°‘çœ‹æ‰‹æœºï¼Œå°±æŠŠæ‰‹æœºé”è¿›æŠ½å±‰ã€‚ç‰©ç†è·ç¦»ä»…ä»…å¢åŠ äº†ä¸€ç‚¹ç‚¹æ‘©æ“¦åŠ›ï¼Œä½†åœ¨ä½ ä¸‹æ„è¯†æƒ³è¦ä¼¸æ‰‹çš„é‚£0.5ç§’ï¼Œè¿™è‚¡å¾®å°é˜»åŠ›è¶³ä»¥è®©ç†æ€§è„‘é‡æ–°ä¸Šçº¿å¹¶æ‹¦æˆªåŠ¨ä½œã€‚" },
        { t: "æ„å»ºä½ çš„æ³¨æ„åŠ›ä¸å¯é€¾è¶ŠæŠ¤åŸè¾¹ç•Œ", c: "æ³¨æ„åŠ›æ˜¯è¿™ä¸ªæ—¶ä»£å”¯ä¸€é€šè´§ã€‚è¢«æ‰“æ–­ä¸€æ¬¡ï¼Œå¤§è„‘éœ€è¦é•¿è¾¾23åˆ†é’Ÿæ‰èƒ½å›åˆ°å¿ƒæµã€‚å»ºç«‹æŠ¤åŸæ²³ï¼šå…³é—­éå¿…è¦é€šçŸ¥ï¼Œä½¿ç”¨ä¸“æ³¨æ¨¡å¼ï¼Œæ¸…ç©ºæ¡Œé¢è¯±æƒ‘ã€‚å°†ç‰©ç†ç¯å¢ƒæ‰“é€ æˆä¸€ä¸ªåªå…è®¸å•ä¸€ä»»åŠ¡æ‰§è¡Œçš„ç»å¯¹'æ‰‹æœ¯å®¤'ï¼Œä½ çš„è®¤çŸ¥æ•ˆç‡å°†å‘ˆç°æŒ‡æ•°çº§å¢é•¿ã€‚" },
        { t: "å¦‚ä½•ç†¬è¿‡æˆ’æ–­ææ—©æœŸçš„è„‘é›¾ä¸ç„¦èºååº”", c: "åˆ‡æ–­é«˜åˆºæ¿€æºçš„å‰ä¸‰å¤©ï¼Œä¸å¯é¿å…ä¼šç»å†'è„‘é›¾'ï¼šæš´èºã€æ— æ³•é›†ä¸­ç”šè‡³æåº¦æ— èŠã€‚è¿™æ˜¯ç”Ÿç†æ€§çš„ç¥ç»é€’è´¨ä½è°·ã€‚è¯·æ¥çº³è¿™æ˜¯ä¸€ç§ç‰©ç†æˆ’æ–­ç—‡çŠ¶è€Œéä½ çš„æ€§æ ¼ç¼ºé™·ï¼›ä½¿ç”¨å‰§çƒˆæœ‰æ°§è¿åŠ¨ä»£æ›¿å†…å•¡è‚½åˆ†æ³Œï¼Œç”¨ç™½å™ªéŸ³å¸®åŠ©å¤§è„‘å¹³æ»‘åº¦è¿‡è¿™ä¸ªæ— èŠçš„çœŸç©ºæœŸã€‚" },
        { t: "ä¹ æƒ¯çš„ çº¿ç´¢-æƒ¯å¸¸-å¥–èµ åŸå§‹è„‘å›è·¯é‡æ„æ¨¡å‹", c: "æŸ¥å°”æ–¯Â·æœå¸Œæ ¼æŒ‡å‡ºï¼Œä¹ æƒ¯ç”±'çº¿ç´¢ã€æƒ¯å¸¸ã€å¥–èµ'ç»„æˆã€‚è¦æ”¹å˜åä¹ æƒ¯ï¼Œä¸èƒ½ç¡¬å‹ï¼Œå¿…é¡»æ›¿æ¢'æƒ¯å¸¸è¡Œä¸º'ã€‚å¦‚æœæ¯æ¬¡æ„Ÿåˆ°å‹åŠ›ï¼ˆçº¿ç´¢ï¼‰å°±æƒ³åƒç”œé£Ÿä»¥è·å¾—å¹³å¤æ„Ÿï¼ˆå¥–èµï¼‰ï¼Œé‚£ä¹ˆä¸‹æ¬¡æœ‰å‹åŠ›æ—¶ï¼Œå°è¯•åšä¿¯å§æ’‘ã€‚ä¿æŒçº¿ç´¢å’Œå¥–èµé—­ç¯ï¼Œæ¤å…¥å…¨æ–°è¡Œä¸ºä»£ç ã€‚" },
        { t: "å†™ç»™æ¯ä¸€æ¬¡å¤±æ§åé™·å…¥è‡ªæˆ‘åŒæ¶çš„ä½ ", c: "æ¯ä¸€æ¬¡ç ´æˆ’å¤±æ§åï¼Œç´§éšå…¶åçš„å¾€å¾€æ˜¯æ·±æ·±çš„è‡ªæˆ‘åŒæ¶ã€‚ä½†è¯·è®°ä½ï¼šè‡ªæˆ‘é“å¾·å®¡åˆ¤ä¸ä»…æ— æµäºäº‹ï¼Œåè€Œä¼šå¼•å‘æ–°ä¸€è½®çš®è´¨é†‡å‹åŠ›ï¼Œä¿ƒä½¿ä½ å†æ¬¡å¯»æ±‚æˆç˜¾åˆºæ¿€ä»¥é€ƒé¿ç—›è‹¦ã€‚æ‰“ç ´æ­»å¾ªç¯çš„æ–¹æ³•æ˜¯'è‡ªæˆ‘åŒæƒ…'ã€‚åƒé™¤è™«ä¸€æ ·è®°å½•å¤±è´¥æ•°æ®ï¼Œä¸å†å†…è€—ã€‚" },
        { t: "5ç§’æ³•åˆ™å¼ºè¡Œåˆ‡æ–­è¾¹ç¼˜ç³»ç»Ÿçš„è‡ªåŠ¨ä¸‹æ„è¯†å¯¼èˆª", c: "æ¢…å°”Â·ç½—å®¾æ–¯çš„5ç§’æ³•åˆ™æå…¶æš´åŠ›ï¼šå½“ä½ æœ‰è¡ŒåŠ¨ç›´è§‰æ—¶ï¼Œå¿…é¡»åœ¨5ç§’å†…åŠ¨ä½œï¼Œå¦åˆ™å¤§è„‘é˜²å¾¡æœºåˆ¶å°±ä¼šåŠé€€ä½ ã€‚5-4-3-2-1ï¼Œè¿™ä¸ªå€’æ•°ç›´æ¥æ‰“æ–­äº†å€Ÿå£ç”Ÿæˆå›è·¯ï¼Œå¼ºè¡Œæ¿€æ´»å‰é¢å¶çš®å±‚ã€‚å®ƒå°†çŠ¹è±«è¿‡ç¨‹å‹ç¼©ä¸ºé›¶ï¼Œç›´æ¥ç‰©ç†å¸¦å…¥æ‰§è¡Œé˜¶æ®µï¼Œæ˜¯æ‰“è´¥æ‹–å»¶çš„åˆ©å™¨ã€‚" },
        { t: "å‚¬äº§ç´ ä¸å†…å•¡è‚½ï¼šåˆ©ç”¨è¿åŠ¨ä¸è¿æ¥é‡è·ç¨³å®š", c: "å¤šå·´èƒºç»™äººæ— å°½çš„æ¸´æœ›ï¼Œä½†æ— æ³•å¸¦æ¥æŒä¹…çš„å¹³é™ã€‚çœŸæ­£çš„ç¨³å®šæ¥è‡ªå¦å¤–ä¸¤ç§é€’è´¨ï¼šå‚¬äº§ç´ ï¼ˆè¿æ¥æ„Ÿï¼‰å’Œå†…å•¡è‚½ï¼ˆæ¥è‡ªè¿åŠ¨çš„ç—›è‹¦è¡¥å¿ï¼‰ã€‚å½“ä½ æ„Ÿåˆ°åŒ®ä¹æ—¶ï¼Œå»è¿›è¡Œä¸€æ¬¡é•¿è·‘ï¼Œæˆ–è€…ä¸çœŸå®ä¸–ç•Œæ·±å…¥äº¤è°ˆã€‚ç”¨é«˜çº§é•¿æ•ˆçš„ç¥ç»é€’è´¨å¯¹æ¥å»‰ä»·çš„å¿«é€Ÿæ¶ˆè€—ã€‚" },
        { t: "å—ä½“ D2 é˜ˆå€¼ä¸æ–­æ‹”é«˜çš„ç¡¬åº•å­ç”Ÿç†ç¾éš¾", c: "ä¸ºä»€ä¹ˆä»¥å‰çœ‹å›¾æ–‡å°±å¾ˆå¼€å¿ƒï¼Œç°åœ¨å¿…é¡»åˆ·çŸ­ç‰‡æ‰ä¸æ— èŠï¼Ÿè¿™æ˜¯å› ä¸ºä½ çš„D2å—ä½“è¢«è¿‡é‡çš„å¤šå·´èƒºæ´ªæµ'æ·¹æ²¡'å¹¶å¼€å§‹è‡ªæ¯ä¸‹è°ƒã€‚ç»§ç»­è¿½æ±‚æ›´é«˜åˆºæ¿€åªèƒ½é¥®é¸©æ­¢æ¸´ã€‚å”¯ä¸€çš„è§£è¯æ˜¯å½»åº•åœæ‘†ï¼Œå¿å—ä¸€æ®µæ—¶é—´çš„ç»å¯¹æ— èŠç©ºè™šï¼Œè®©ç»†èƒè†œé‡æ–°é•¿å‡ºå¤šå·´èƒºå—ä½“ã€‚" },
        { t: "æ‰“ç ´ä¹ å¾—æ€§æ— åŠ©ä¸å¾®å°é˜»åŠ›èƒœåˆ©æ»šé›ªçƒæ³•åˆ™", c: "é¢‘ç¹æ”¾å¼ƒä¼šå¼•å‘'ä¹ å¾—æ€§æ— åŠ©'ã€‚è¦æ‰“ç ´å®ƒï¼Œå¿…é¡»å»ºç«‹ç»å¯¹èƒ½åšåˆ°çš„å¾®å°èƒœåˆ©ã€‚æ¯”å¦‚ï¼šä»Šå¤©åªåš1ä¸ªæ·±è¹²ï¼Œåªçœ‹1é¡µä¹¦ã€‚è¿™çœ‹ä¼¼å¯ç¬‘ï¼Œä½†æ¯ä¸€æ¬¡æ— ç—›æ‰§è¡Œéƒ½åœ¨ç‰©ç†ä¸Šé‡å»ºä½ çš„è‡ªæˆ‘æ•ˆèƒ½ç¥ç»ç¯è·¯ã€‚ä¸€æ—¦åŸºçŸ³ç¡®ç«‹ï¼Œèƒœåˆ©å°±åƒé›ªçƒè¶Šæ»šè¶Šå¤§ã€‚" },
        { t: "ç¥ç»å¯å¡‘æ€§ä¸ 21 å¤©çªè§¦å®è´¨æ€§ä¿®å‰ªå®éªŒ", c: "èµ«å¸ƒå®šå¾‹ï¼š'ä¸€èµ·æ¿€å‘çš„ç¥ç»å…ƒè¿æ¥åœ¨ä¸€èµ·'ã€‚ä½ è¶Šé¢‘ç¹é‡å¤åŠ¨ä½œï¼Œè¯¥å›è·¯å°±è¶Šç²—å£®ã€‚åä¹‹ï¼Œ21åˆ°90å¤©ä¸ä½¿ç”¨æŸä¸ªå†²åŠ¨å›è·¯ï¼Œçªè§¦å°±ä¼šè¢«å¤§è„‘åŸç”Ÿç‰©ç†'ä¿®å‰ª'æ‰ã€‚è¿™æ„å‘³ç€ä½ è¿‡å»çš„æ¶ä¹ åœ¨ç”Ÿç†å±‚é¢å¯¹ä½ å¹¶éæ°¸ä¹…çƒ™å°ï¼Œç”¨æ–°è¡Œä¸ºåˆ»ä¸‹æ–°çš„æ²Ÿå£‘å°±èƒ½å½»åº•å¤å†™å®ƒã€‚" },
        { t: "å¥–åŠ±é¢„æµ‹è¯¯å·® (RPE)ï¼šä¸ºä»€ä¹ˆè‹¦å°½ç”˜æ¥æ˜¯çœŸçš„", c: "ç¥ç»ç§‘å­¦ä¸­çš„RPEï¼ˆReward Prediction Errorï¼‰æŒ‡å‡ºï¼šå¤šå·´èƒºæ›´åœ¨äº'é¢„æœŸä¹‹å¤–çš„æƒŠå–œ'ã€‚å¦‚æœä¸€ä»¶äº‹æƒ…å¤ªå®¹æ˜“é¢„æœŸï¼Œå¤šå·´èƒºåˆ†æ³Œå°±ä¼šéª¤é™ã€‚æˆ‘ä»¬å¯ä»¥åå‘åˆ©ç”¨è¿™ç‚¹ï¼Œç»™æ—¥å¸¸æ¯ç‡¥çš„ä»»åŠ¡åŠ ä¸Š'ä¸ç¡®å®šæ€§'çš„éšæœºå¥–åŠ±ï¼Œä»¥æ­¤é‡æ–°æ¿€æ´»å¤§è„‘å¯¹è¯¥ä»»åŠ¡çš„ä¸­æ¢æ¸´æœ›ã€‚" },
        { t: "å¤œé—´äººé€ å…‰æºå¯¹å‰é¢å¶å…‹åˆ¶é˜²å¾¡çš„è‡´å‘½å‰Šå¼±", c: "æ™šä¸Š10ç‚¹ä»¥åæš´éœ²åœ¨å±å¹•è“å…‰ä¸‹ï¼Œä¸ä»…é˜»æ–­è¤ªé»‘ç´ ï¼Œæ›´å¯æ€•çš„æ˜¯ç›´æ¥æŠ‘åˆ¶å‰é¢å¶ç†æ€§åŠŸèƒ½ã€‚åˆ°äº†æ·±å¤œï¼Œç³»ç»Ÿ2èƒ½é‡è€—ç«­ï¼Œè“å…‰ç»™äº†åŸå§‹è¾¹ç¼˜ç³»ç»Ÿæ— ä¸ŠæƒåŠ›ã€‚è¿™å°±æ˜¯ä¸ºä½•æ™šä¸Šå®¹æ˜“æŠ¥å¤æ€§ç†¬å¤œã€‚æœ€ä½³ç­–ç•¥æ˜¯ï¼šæ™šä¸Š8ç‚¹åç‰©ç†æ–­ç½‘éš”ç¦»æ‰‹æœºã€‚" },
        { t: "ç”¨ç³»ç»Ÿ 2 å‹åˆ¶ç³»ç»Ÿ 1ï¼Œè®©ç†æ€§æ¥ç®¡è¡ŒåŠ¨ä¸­æ¢", c: "ç³»ç»Ÿ1æ˜¯ç›´è§‰å†²åŠ¨çš„ï¼›ç³»ç»Ÿ2æ˜¯ç†æ€§è€—èƒ½æ·±æ€ç†Ÿè™‘çš„ã€‚æˆ‘ä»¬å¸¸æˆä¸ºç³»ç»Ÿ1çš„å¥´éš¶ï¼Œé¡ºåº”åŸºå› æœ¬èƒ½åšå‡ºå •è½é€‰æ‹©ã€‚è¦æ‰­è½¬å±€é¢ï¼Œå¿…é¡»åœ¨åˆºæ¿€å’Œååº”ä¹‹é—´åˆ›é€ 'ç‰©ç†æš‚åœ'ã€‚ä¸€æ¬¡æ·±å‘¼å¸ï¼Œå°±èƒ½ä¸ºç³»ç»Ÿ2äº‰å–åˆ°ä¸Šçº¿æ¥ç®¡æ‰‹è…•åŠ¨ä½œçš„å®è´µé›¶ç‚¹å‡ ç§’ç¼“å†²æ—¶é—´ã€‚" },
        { t: "å†¥æƒ³æ—¶ä½ çš„å¤§è„‘çš®å±‚ç©¶ç«Ÿå‘ç”Ÿäº†æ€æ ·çš„ç‰©ç†å½¢å˜", c: "fMRIæ‰«ææ˜¾ç¤ºï¼Œæ­£å¿µä¼šå¯¼è‡´å¤§è„‘ç»“æ„å®è´¨æ”¹å˜ï¼šæŒç®¡ç†çš„'å‰é¢å¶çš®å±‚'ç°è´¨å˜åšï¼Œè€ŒæŒç®¡ææƒ§å’Œå†²åŠ¨çš„'æä»æ ¸'ä½“ç§¯å˜å°ã€‚å†¥æƒ³ä¸æ˜¯ç„å­¦ï¼Œå®ƒæ˜¯é’ˆå¯¹å¤§è„‘ç°è´¨çš„é‡é‡è®­ç»ƒã€‚æ¯å¤©ä¸“æ³¨å‘¼å¸å…¶å®å°±æ˜¯åœ¨å®è§‚å±‚é¢ä¸Šç‰©ç†é‡å¡‘ä½ çš„ç¥ç»éŸ§å¸¦ä¸æŠ—å‡»æ‰“èƒ½åŠ›ã€‚" }
    ];

    const articleCovers = [
        'https://images.unsplash.com/photo-1518331191131-75a730d85197?w=500&auto=format', // Focus
        'https://images.unsplash.com/photo-1516116216624-53e697fedbea?w=500&auto=format', // Code
        'https://images.unsplash.com/photo-1484417894907-623942c8ee29?w=500&auto=format', // Laptop
        'https://images.unsplash.com/photo-1453928582365-b6ad33cbcf64?w=500&auto=format', // Work
        'https://images.unsplash.com/photo-1584036561566-baf8f5f1b144?w=500&auto=format', // Abstract 1
        'https://images.unsplash.com/photo-1614850523296-e84e09ad8dc7?w=500&auto=format'  // Dark 2
    ];

    articlesData.forEach((item, i) => {
        seedData.push({
            type: 'article', icon: 'ğŸ“–', title: item.t,
            desc: 'é•¿ç¯‡æ·±åº¦å¹²è´§ï¼Œå»ºè®®åœ¨ç»å¯¹éš”ç¦»å¹²æ‰°çš„çŠ¶æ€ä¸‹é˜…è¯»ã€‚',
            cover: articleCovers[i % articleCovers.length],
            author: 'æ§åˆ¶ç³»ç»Ÿå½’æ¡£å±€', readTime: `${(Math.random() * 4 + 4).toFixed(0)} åˆ†é’Ÿæ·±åº¦å†…è§†`,
            contentUrl: '', status: 1, publish_date: now - i * 15000 - 200000,
            textContent: `<div style="color:#d4d4d8; font-size:16px; line-height: 1.8; letter-spacing: 0.5px;">
                <p style="font-weight:bold; font-size: 18px; color:#fff; border-bottom: 1px solid #3f3f46; padding-bottom: 8px; margin-bottom: 15px;">æ ¸å¿ƒæ€æƒ³æ¨æ¼”</p>
                <p style="margin-bottom: 15px; text-indent: 2em; color: #f4f4f5;">${item.c}</p>
                <p style="margin-bottom: 15px; background: rgba(59, 130, 246, 0.1); padding: 12px; border-radius: 8px; border-left: 3px solid #3b82f6;">å®éªŒä½è¯æŒ‡å—ï¼š${guides[i]}</p>
                <div style="font-size:12px; color:#52525b; text-align:center; margin-top: 40px; border-top:1px dashed #27272a; padding-top:10px;">â€”â€” ç³»ç»Ÿå¿«ç…§æ—¶é—´åºåˆ—ï¼š${new Date(now).toISOString()} / DATA-NO.${i + 1}</div>
            </div>`
        })
    })

    try {
        // å…ˆæ¸…ç†å­˜é‡æ—§æ•°æ®ï¼Œç¡®ä¿æ–° Schema çš„è¦†ç›–å›¾èƒ½æ­£ç¡®è½åº“ï¼ˆå¼€å‘è€…æ¸…ç†é€»è¾‘ï¼‰
        await col.where({ status: dbCmd.exists(true) }).remove();

        // 48 æ¡æ•°æ®åŒ…å«çš„å­—æ•°å®Œå…¨å¯ä»¥åœ¨ uniCloud å•æ¬¡å¤§åŒ…æ‰¹é‡å†™å…¥ (bulk_insert) å†…å®Œæˆ
        await col.add(seedData);
        return { code: 0, msg: 'æå®¢èµ„æ–™çŸ©é˜µ (48 æ¡å¸¦å°é¢ç²¾é€‰) å·²æˆåŠŸé‡æ„å¹¶åˆå§‹åŒ–ï¼' }
    } catch (err) {
        console.error('åˆå§‹åŒ–æ•°æ®å¤§åŒ…å†™å…¥å¤±è´¥ï¼š', err);
        throw err;
    }
}
